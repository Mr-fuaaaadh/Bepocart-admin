"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[6495],{6495:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var r=a(2791),o=a(1889),n=a(2903),i=a(9347),s=a(4070),c=a(7621),l=a(697),d=a(890),u=a(4721),m=a(9504),p=a(8550),g=a(8096),v=a(4925),f=a(8406),h=a(3786),x=a(4518),b=a(184);const y=()=>{const[e,t]=(0,r.useState)({name:"",slug:"",file:null,mainCategory:"",selectedCategoryImage:null}),[a,o]=(0,r.useState)([]),[y,Z]=(0,r.useState)(null),[C,j]=(0,r.useState)("success"),[S,w]=(0,r.useState)(!1),[I,M]=(0,r.useState)(!0),k=localStorage.getItem("token");(0,r.useEffect)((()=>{O()}),[]);const O=async()=>{M(!0);try{const e=await n.Z.get("https://bepocart.in/admin/Bepocart-categories/",{headers:{Authorization:"".concat(k)}});Array.isArray(e.data)?o(e.data):console.error("Invalid data format:",e.data)}catch(e){console.error("Error fetching main categories:",e)}finally{M(!1)}},P=r=>{const{name:o,value:n,files:i}=r.target;if("category"===o){const r=a.find((e=>e.id===n));t({...e,mainCategory:n,selectedCategoryImage:r?"".concat(r.image):null})}else t({...e,[o]:i?i[0]:n})},F=()=>{w(!1)};return(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Z,{open:S,autoHideDuration:6e3,onClose:F,children:(0,b.jsx)(s.Z,{onClose:F,severity:C,sx:{width:"100%"},children:y})}),(0,b.jsxs)(c.Z,{variant:"outlined",sx:{p:0},children:[(0,b.jsx)(l.Z,{sx:{padding:"15px 30px"},display:"flex",alignItems:"center",children:(0,b.jsx)(l.Z,{flexGrow:1,children:(0,b.jsx)(d.Z,{sx:{fontSize:"18px",fontWeight:"500"},children:"Sub Category Form"})})}),(0,b.jsx)(u.Z,{}),(0,b.jsx)(m.Z,{sx:{padding:"30px"},children:I?(0,b.jsx)(d.Z,{children:"Loading..."}):(0,b.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!(e.name.trim()?e.slug.trim()?e.mainCategory||(Z("Main category is required."),j("error"),w(!0),0):(Z("Slug is required."),j("error"),w(!0),0):(Z("Name is required."),j("error"),w(!0),0)))return;const r=new FormData;r.append("name",e.name),r.append("slug",e.slug),r.append("category",e.mainCategory),e.file&&r.append("image",e.file);try{const e=await n.Z.post("https://bepocart.in/admin/Bepocart-subcategory/",r,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(k)}});Z("Form submitted successfully!"),j("success"),w(!0),console.log("Success",e.data),t({name:"",slug:"",file:null,mainCategory:"",selectedCategoryImage:null})}catch(o){Z("Failed to submit the form."),j("error"),w(!0),console.error("Error",o.response?o.response.data:o.message)}},children:[(0,b.jsx)(p.Z,{name:"name",label:"Name",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.name,onChange:P}),(0,b.jsx)(p.Z,{name:"slug",label:"Slug",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.slug,onChange:P}),(0,b.jsxs)(g.Z,{fullWidth:!0,sx:{mb:2},children:[(0,b.jsx)(v.Z,{children:"Category"}),(0,b.jsx)(f.Z,{name:"category",value:e.mainCategory,onChange:P,children:a.map((e=>(0,b.jsx)(h.Z,{value:e.id,children:e.name},e.id)))})]}),(0,b.jsx)(p.Z,{name:"image",type:"file",variant:"outlined",fullWidth:!0,sx:{mb:2},onChange:a=>{const r=a.target.files[0];t({...e,file:r,filePreview:r?URL.createObjectURL(r):null})}}),e.filePreview&&(0,b.jsx)(l.Z,{component:"img",src:e.filePreview,alt:"Selected Preview",sx:{maxWidth:"100%",maxHeight:"200px",mb:2,borderRadius:"8px",boxShadow:1}}),(0,b.jsx)(x.Z,{type:"submit",color:"primary",variant:"contained",children:"Submit"})]})})]})]})},Z=()=>(0,b.jsx)(o.ZP,{container:!0,spacing:0,children:(0,b.jsx)(o.ZP,{item:!0,lg:12,md:12,xs:12,children:(0,b.jsx)(y,{})})})},7621:(e,t,a)=>{a.d(t,{Z:()=>h});var r=a(7462),o=a(3366),n=a(2791),i=a(9278),s=a(4419),c=a(6934),l=a(1020),d=a(5527),u=a(5878),m=a(1217);function p(e){return(0,m.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var g=a(184);const v=["className","raised"],f=(0,c.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),h=n.forwardRef((function(e,t){const a=(0,l.i)({props:e,name:"MuiCard"}),{className:n,raised:c=!1}=a,d=(0,o.Z)(a,v),u=(0,r.Z)({},a,{raised:c}),m=(e=>{const{classes:t}=e;return(0,s.Z)({root:["root"]},p,t)})(u);return(0,g.jsx)(f,(0,r.Z)({className:(0,i.Z)(m.root,n),elevation:c?8:void 0,ref:t,ownerState:u},d))}))},6014:(e,t,a)=>{a.d(t,{Z:()=>i,f:()=>n});var r=a(5878),o=a(1217);function n(e){return(0,o.ZP)("MuiListItemIcon",e)}const i=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},9849:(e,t,a)=>{a.d(t,{L:()=>n,Z:()=>i});var r=a(5878),o=a(1217);function n(e){return(0,o.ZP)("MuiListItemText",e)}const i=(0,r.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},3786:(e,t,a)=>{a.d(t,{Z:()=>I});var r=a(3366),o=a(7462),n=a(2791),i=a(9278),s=a(4419),c=a(4131),l=a(6934),d=a(5070),u=a(1020),m=a(6199),p=a(533),g=a(162),v=a(2071),f=a(133),h=a(6014),x=a(9849),b=a(5878),y=a(1217);function Z(e){return(0,y.ZP)("MuiMenuItem",e)}const C=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=a(184);const S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,l.ZP)(p.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,o.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(C.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(C.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(C.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(C.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(C.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(f.Z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(f.Z.inset)]:{marginLeft:52},["& .".concat(x.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(x.Z.inset)]:{paddingLeft:36},["& .".concat(h.Z.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(h.Z.root," svg")]:{fontSize:"1.25rem"}}))})),I=n.forwardRef((function(e,t){const a=(0,u.i)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:d=!1,divider:p=!1,disableGutters:f=!1,focusVisibleClassName:h,role:x="menuitem",tabIndex:b,className:y}=a,C=(0,r.Z)(a,S),I=n.useContext(m.Z),M=n.useMemo((()=>({dense:d||I.dense||!1,disableGutters:f})),[I.dense,d,f]),k=n.useRef(null);(0,g.Z)((()=>{c&&k.current&&k.current.focus()}),[c]);const O=(0,o.Z)({},a,{dense:M.dense,divider:p,disableGutters:f}),P=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:n,selected:i,classes:c}=e,l={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",i&&"selected"]},d=(0,s.Z)(l,Z,c);return(0,o.Z)({},c,d)})(a),F=(0,v.Z)(k,t);let L;return a.disabled||(L=void 0!==b?b:-1),(0,j.jsx)(m.Z.Provider,{value:M,children:(0,j.jsx)(w,(0,o.Z)({ref:F,role:x,tabIndex:L,component:l,focusVisibleClassName:(0,i.Z)(P.focusVisible,h),className:(0,i.Z)(P.root,y)},C,{ownerState:O,classes:P}))})}))}}]);
//# sourceMappingURL=6495.948fb0a3.chunk.js.map