"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[3865],{3865:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var o=a(2791),n=a(1889),r=a(2903),s=a(9347),i=a(4070),c=a(7621),l=a(697),d=a(890),u=a(4721),p=a(9504),m=a(8550),g=a(8096),b=a(4925),v=a(8406),x=a(3786),h=a(4518),f=a(184);const Z=()=>{const[e,t]=(0,o.useState)({name:"",slug:"",alt_text:"",file:null,category:""}),[a,Z]=(0,o.useState)([]),[y,C]=(0,o.useState)(null),[j,S]=(0,o.useState)("success"),[w,I]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await r.Z.get("https://bepocart.in/admin/Bepocart-subcategories/",{headers:{Authorization:"".concat(e)}});Z(t.data.data)}catch(e){console.error("Error fetching subcategories:",e)}})()}),[]);const M=a=>{const{name:o,value:n,files:r}=a.target;t({...e,[o]:r?r[0]:n})},k=()=>{I(!1)};return(0,f.jsxs)("div",{children:[(0,f.jsx)(s.Z,{open:w,autoHideDuration:6e3,onClose:k,children:(0,f.jsx)(i.Z,{onClose:k,severity:j,sx:{width:"100%"},children:y})}),(0,f.jsxs)(c.Z,{variant:"outlined",sx:{p:0},children:[(0,f.jsx)(l.Z,{sx:{padding:"15px 30px"},display:"flex",alignItems:"center",children:(0,f.jsx)(l.Z,{flexGrow:1,children:(0,f.jsx)(d.Z,{sx:{fontSize:"18px",fontWeight:"500"},children:"Banner Form"})})}),(0,f.jsx)(u.Z,{}),(0,f.jsx)(p.Z,{sx:{padding:"30px"},children:(0,f.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!e.name||!e.slug||!e.subcategory)return C("Please fill in all required fields."),S("error"),void I(!0);const o=new FormData;o.append("name",e.name),o.append("slug",e.slug),o.append("alt_text",e.alt_text),o.append("category",e.subcategory),e.file&&o.append("image",e.file);try{const e=localStorage.getItem("token"),a=await r.Z.post("https://bepocart.in/admin/Bepocart-Banner/",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(e)}});console.log("Success",a.data),C("Form submitted successfully!"),S("success"),I(!0),t({name:"",slug:"",alt_text:"",file:null,category:""})}catch(n){n.response?401===n.response.status?(window.location.href="/login/",console.error("Unauthorized - Redirect to login page or handle accordingly.")):console.error("Error Response:",n.response.data):n.request?console.error("Request Error:",n.request):console.error("General Error:",n.message),C("Failed to submit the form."),S("error"),I(!0)}},children:[(0,f.jsx)(m.Z,{name:"name",label:"Name",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.name,onChange:M,required:!0}),(0,f.jsx)(m.Z,{name:"slug",label:"Slug",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.slug,onChange:M,required:!0}),(0,f.jsx)(m.Z,{name:"alt_text",label:"Alt Text",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.alt_text,onChange:M}),(0,f.jsxs)(g.Z,{fullWidth:!0,sx:{mb:2},children:[(0,f.jsx)(b.Z,{id:"subcategory-label",children:"Subcategory"}),(0,f.jsx)(v.Z,{labelId:"subcategory-label",name:"category",value:e.category,onChange:M,label:"Subcategory",required:!0,children:a.map((e=>(0,f.jsx)(x.Z,{value:e.id,children:e.name},e.id)))})]}),(0,f.jsx)(m.Z,{name:"image",type:"file",variant:"outlined",fullWidth:!0,sx:{mb:2},onChange:a=>t({...e,file:a.target.files[0]})}),(0,f.jsx)(n.ZP,{container:!0,spacing:0,sx:{mb:2}}),(0,f.jsx)("div",{children:(0,f.jsx)(h.Z,{type:"submit",color:"primary",variant:"contained",children:"Submit"})})]})})]})]})},y=()=>(0,f.jsx)(n.ZP,{container:!0,spacing:0,children:(0,f.jsx)(n.ZP,{item:!0,lg:12,md:12,xs:12,children:(0,f.jsx)(Z,{})})})},7621:(e,t,a)=>{a.d(t,{Z:()=>x});var o=a(7462),n=a(3366),r=a(2791),s=a(9278),i=a(4419),c=a(6934),l=a(1020),d=a(5527),u=a(5878),p=a(1217);function m(e){return(0,p.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var g=a(184);const b=["className","raised"],v=(0,c.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),x=r.forwardRef((function(e,t){const a=(0,l.i)({props:e,name:"MuiCard"}),{className:r,raised:c=!1}=a,d=(0,n.Z)(a,b),u=(0,o.Z)({},a,{raised:c}),p=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},m,t)})(u);return(0,g.jsx)(v,(0,o.Z)({className:(0,s.Z)(p.root,r),elevation:c?8:void 0,ref:t,ownerState:u},d))}))},6014:(e,t,a)=>{a.d(t,{Z:()=>s,f:()=>r});var o=a(5878),n=a(1217);function r(e){return(0,n.ZP)("MuiListItemIcon",e)}const s=(0,o.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},9849:(e,t,a)=>{a.d(t,{L:()=>r,Z:()=>s});var o=a(5878),n=a(1217);function r(e){return(0,n.ZP)("MuiListItemText",e)}const s=(0,o.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},3786:(e,t,a)=>{a.d(t,{Z:()=>I});var o=a(3366),n=a(7462),r=a(2791),s=a(9278),i=a(4419),c=a(4131),l=a(6934),d=a(5070),u=a(1020),p=a(6199),m=a(533),g=a(162),b=a(2071),v=a(133),x=a(6014),h=a(9849),f=a(5878),Z=a(1217);function y(e){return(0,Z.ZP)("MuiMenuItem",e)}const C=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=a(184);const S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,l.ZP)(m.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,n.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(C.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(C.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(C.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(C.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(C.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(v.Z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(v.Z.inset)]:{marginLeft:52},["& .".concat(h.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(h.Z.inset)]:{paddingLeft:36},["& .".concat(x.Z.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,n.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(x.Z.root," svg")]:{fontSize:"1.25rem"}}))})),I=r.forwardRef((function(e,t){const a=(0,u.i)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:d=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:x,role:h="menuitem",tabIndex:f,className:Z}=a,C=(0,o.Z)(a,S),I=r.useContext(p.Z),M=r.useMemo((()=>({dense:d||I.dense||!1,disableGutters:v})),[I.dense,d,v]),k=r.useRef(null);(0,g.Z)((()=>{c&&k.current&&k.current.focus()}),[c]);const O=(0,n.Z)({},a,{dense:M.dense,divider:m,disableGutters:v}),F=(e=>{const{disabled:t,dense:a,divider:o,disableGutters:r,selected:s,classes:c}=e,l={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",o&&"divider",s&&"selected"]},d=(0,i.Z)(l,y,c);return(0,n.Z)({},c,d)})(a),P=(0,b.Z)(k,t);let q;return a.disabled||(q=void 0!==f?f:-1),(0,j.jsx)(p.Z.Provider,{value:M,children:(0,j.jsx)(w,(0,n.Z)({ref:P,role:h,tabIndex:q,component:l,focusVisibleClassName:(0,s.Z)(F.focusVisible,x),className:(0,s.Z)(F.root,Z)},C,{ownerState:O,classes:F}))})}))}}]);
//# sourceMappingURL=3865.50138109.chunk.js.map