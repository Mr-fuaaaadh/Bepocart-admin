"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[9675],{9675:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var n=a(2791),o=a(1889),s=a(2903),r=a(7689),i=a(9347),l=a(4070),c=a(7621),d=a(697),u=a(890),p=a(4721),m=a(9504),h=a(8550),x=a(4518),f=a(184);const g=()=>{const{id:e}=(0,r.UO)(),[t,a]=(0,n.useState)({title:"",file:null,content:""}),[g,Z]=(0,n.useState)(null),[j,v]=(0,n.useState)("success"),[b,C]=(0,n.useState)(!1),[y,w]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e&&(S(),w(!0))}),[e]);const S=async()=>{try{const n=localStorage.getItem("token"),o=await s.Z.get("https://bepocart.in/admin/Bepocart-Blog-update/".concat(e,"/"),{headers:{Authorization:"".concat(n)}}),{title:r,content:i}=o.data.data;a({...t,title:r,content:i})}catch(n){console.error("Error fetching blog data:",n),Z("Failed to fetch blog data."),v("error"),C(!0)}},B=e=>{const{name:n,value:o,files:s}=e.target;a({...t,[n]:"image"===n?s[0]:o})},k=()=>{C(!1)};return(0,f.jsxs)("div",{children:[(0,f.jsx)(i.Z,{open:b,autoHideDuration:6e3,onClose:k,children:(0,f.jsx)(l.Z,{onClose:k,severity:j,sx:{width:"100%"},children:g})}),(0,f.jsxs)(c.Z,{variant:"outlined",sx:{p:0},children:[(0,f.jsx)(d.Z,{sx:{padding:"15px 30px"},display:"flex",alignItems:"center",children:(0,f.jsx)(d.Z,{flexGrow:1,children:(0,f.jsx)(u.Z,{sx:{fontSize:"18px",fontWeight:"500"},children:y?"Update Blog":"Create Blog"})})}),(0,f.jsx)(p.Z,{}),(0,f.jsx)(m.Z,{sx:{padding:"30px"},children:(0,f.jsxs)("form",{onSubmit:async n=>{n.preventDefault();const o=new FormData;o.append("title",t.title),t.file&&o.append("image",t.file),o.append("content",t.content);try{const t=localStorage.getItem("token");let n;n=y?await s.Z.put("https://bepocart.in/admin/Bepocart-Blog-update/".concat(e,"/"),o,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(t)}}):await s.Z.post("https://bepocart.in/admin/Bepocart-Blog-create/",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(t)}}),Z("Form submitted successfully!"),v("success"),C(!0),console.log("Success",n.data),a({title:"",file:null,content:""})}catch(r){Z("Failed to submit the form."),v("error"),C(!0),console.error("Error",r.response?r.response.data:r.message)}},children:[(0,f.jsx)(h.Z,{name:"title",label:"Title",variant:"outlined",fullWidth:!0,sx:{mb:2},value:t.title,onChange:B}),(0,f.jsx)(h.Z,{name:"image",type:"file",variant:"outlined",fullWidth:!0,sx:{mb:2},onChange:e=>a({...t,file:e.target.files[0]})}),(0,f.jsx)(h.Z,{name:"content",label:"Content",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,sx:{mb:2},value:t.content,onChange:B}),(0,f.jsx)(o.ZP,{container:!0,spacing:0,sx:{mb:2}}),(0,f.jsx)("div",{children:(0,f.jsx)(x.Z,{type:"submit",color:"primary",variant:"contained",children:y?"Update":"Submit"})})]})})]})]})},Z=()=>(0,f.jsx)(o.ZP,{container:!0,spacing:0,children:(0,f.jsx)(o.ZP,{item:!0,lg:12,md:12,xs:12,children:(0,f.jsx)(g,{})})})},7621:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(7462),o=a(3366),s=a(2791),r=a(9278),i=a(4419),l=a(6934),c=a(1020),d=a(5527),u=a(5878),p=a(1217);function m(e){return(0,p.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var h=a(184);const x=["className","raised"],f=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),g=s.forwardRef((function(e,t){const a=(0,c.i)({props:e,name:"MuiCard"}),{className:s,raised:l=!1}=a,d=(0,o.Z)(a,x),u=(0,n.Z)({},a,{raised:l}),p=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},m,t)})(u);return(0,h.jsx)(f,(0,n.Z)({className:(0,r.Z)(p.root,s),elevation:l?8:void 0,ref:t,ownerState:u},d))}))}}]);
//# sourceMappingURL=9675.a2ab8737.chunk.js.map