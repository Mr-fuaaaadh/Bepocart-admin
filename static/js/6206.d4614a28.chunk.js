"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[6206],{6206:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(2791),r=s(1889),a=s(2903),o=s(9347),l=s(4070),i=s(7621),c=s(697),u=s(890),d=s(4721),m=s(9504),x=s(8550),f=s(4518),p=s(184);const h={name:"",slug:"",file:null},v=(e,t)=>{switch(t.type){case"SET_FIELD":return{...e,[t.field]:t.value};case"RESET":return h;default:return e}},Z=()=>{const[e,t]=(0,n.useReducer)(v,h),[s,Z]=(0,n.useState)(null),[g,j]=(0,n.useState)("success"),[b,y]=(0,n.useState)(!1),S=e=>{const{name:s,value:n,files:r}=e.target;t({type:"SET_FIELD",field:s,value:r?r[0]:n})},C=()=>y(!1);return(0,p.jsxs)("div",{children:[(0,p.jsx)(o.Z,{open:b,autoHideDuration:6e3,onClose:C,children:(0,p.jsx)(l.Z,{onClose:C,severity:g,sx:{width:"100%"},children:s})}),(0,p.jsxs)(i.Z,{variant:"outlined",sx:{p:0},children:[(0,p.jsx)(c.Z,{sx:{padding:"15px 30px"},display:"flex",alignItems:"center",children:(0,p.jsx)(c.Z,{flexGrow:1,children:(0,p.jsx)(u.Z,{sx:{fontSize:"18px",fontWeight:"500"},children:"Category Form"})})}),(0,p.jsx)(d.Z,{}),(0,p.jsx)(m.Z,{sx:{padding:"30px"},children:(0,p.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),!(()=>{const{name:t,slug:s,file:n}=e;if(!t||!s||!n)return Z(t?s?"Image file must be selected.":"Slug field cannot be empty.":"Name field cannot be empty."),j("error"),y(!0),!1;return!0})())return;const n=new FormData;Object.entries(e).forEach((e=>{let[t,s]=e;n.append(t,s)}));try{const e=localStorage.getItem("token"),s=await a.Z.post("https://bepocart.in/admin/Bepocart-category/",n,{headers:{"Content-Type":"multipart/form-data",Authorization:e}});Z("Form submitted successfully!"),j("success"),y(!0),console.log("Success",s.data),t({type:"RESET"})}catch(l){var r,o;const e=(null===(r=l.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||"Failed to submit the form.";Z(e),j("error"),y(!0),console.error("Error",l.response||l.message)}},children:[(0,p.jsx)(x.Z,{name:"name",label:"Name",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.name,onChange:S}),(0,p.jsx)(x.Z,{name:"slug",label:"Slug",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.slug,onChange:S}),(0,p.jsx)(x.Z,{name:"file",type:"file",variant:"outlined",fullWidth:!0,sx:{mb:2},onChange:S}),(0,p.jsx)(r.ZP,{container:!0,spacing:0,sx:{mb:2}}),(0,p.jsx)("div",{children:(0,p.jsx)(f.Z,{type:"submit",color:"primary",variant:"contained",children:"Submit"})})]})})]})]})},g=()=>(0,p.jsx)(r.ZP,{container:!0,spacing:0,children:(0,p.jsx)(r.ZP,{item:!0,lg:12,md:12,xs:12,children:(0,p.jsx)(Z,{})})})},7621:(e,t,s)=>{s.d(t,{Z:()=>v});var n=s(7462),r=s(3366),a=s(2791),o=s(9278),l=s(4419),i=s(6934),c=s(1020),u=s(5527),d=s(5878),m=s(1217);function x(e){return(0,m.ZP)("MuiCard",e)}(0,d.Z)("MuiCard",["root"]);var f=s(184);const p=["className","raised"],h=(0,i.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),v=a.forwardRef((function(e,t){const s=(0,c.i)({props:e,name:"MuiCard"}),{className:a,raised:i=!1}=s,u=(0,r.Z)(s,p),d=(0,n.Z)({},s,{raised:i}),m=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"]},x,t)})(d);return(0,f.jsx)(h,(0,n.Z)({className:(0,o.Z)(m.root,a),elevation:i?8:void 0,ref:t,ownerState:d},u))}))}}]);
//# sourceMappingURL=6206.d4614a28.chunk.js.map