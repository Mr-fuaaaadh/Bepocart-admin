"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[1661],{1661:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(2791),a=n(697),o=n(7621),s=n(9504),i=n(890),c=n(2903),l=n(7689),d=n(1087),x=n(9836),h=n(6890),p=n(5855),u=n(3994),m=n(3382),Z=n(4518),j=n(5289),g=n(5661),y=n(9157),f=n(7123),v=n(7247),C=n(8550),S=n(184);const E=e=>{let{open:t,onClose:n,onSizeAdded:a,productTYPE:o,productId:s}=e;const[i,d]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),{id:p}=(0,l.UO)();(0,r.useEffect)((()=>{t&&(d(""),h(""))}),[t]),console.log("Product Id from useParams                          :",s);return(0,S.jsxs)(j.Z,{open:t,onClose:n,children:[(0,S.jsx)(g.Z,{children:"Add Size and Quantity"}),(0,S.jsx)(y.Z,{children:(0,S.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=localStorage.getItem("token");if(p)try{console.log("Sending data:",{size:i,stock:x,product:parseInt(p)});const e=await c.Z.post("https://bepocart.in/admin/Bepocart-product-varient/".concat(s,"/"),{size:i,stock:x,product:parseInt(p),productType:o},{headers:{Authorization:"".concat(t)}});console.log("Response data:",e.data),a(e.data),n()}catch(r){console.error("Error adding size:",r),r.response&&console.error("Response data:",r.response.data)}else console.error("Error: Product ID not found")},children:[(0,S.jsx)(C.Z,{autoFocus:!0,margin:"dense",label:"Size",type:"text",fullWidth:!0,value:i,onChange:e=>d(e.target.value)}),(0,S.jsx)(C.Z,{margin:"dense",label:"Quantity",type:"number",fullWidth:!0,value:x,onChange:e=>h(e.target.value)}),(0,S.jsxs)(f.Z,{children:[(0,S.jsx)(Z.Z,{onClick:n,children:"Cancel"}),(0,S.jsx)(Z.Z,{type:"submit",variant:"contained",color:"primary",children:"Add"})]})]})})]})};var b=n(1286);const I=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(null),[s,C]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),[A,W]=(0,r.useState)(null),[k,w]=(0,r.useState)(null),[M,P]=(0,r.useState)(!1),[D,H]=(0,r.useState)(null),U=(0,l.s0)(),{id:N}=(0,l.UO)(),R=localStorage.getItem("token"),[T,B]=(0,r.useState)("single");(0,r.useEffect)((()=>{const e=parseInt(N);G(e)}),[N]),console.log("token  :",R),(0,r.useEffect)((()=>{(async e=>{try{const t=await c.Z.get("https://bepocart.in/admin/Bepocart-product-update/".concat(e,"/"),{headers:{Authorization:"".concat(R)}});B(t.data.data.type)}catch(D){console.error("Error fetching data:",D)}})(parseInt(N))}),[N,R]);const G=async e=>{P(!0);try{const n=await c.Z.get("https://bepocart.in/admin/Bepocart-Product-images/".concat(e,"/"),{headers:{Authorization:"".concat(R)}});Array.isArray(n.data)?t(n.data):(console.error("Invalid data format:",n.data),H("Invalid data format received"))}catch(D){console.error("Error fetching products:",D),!D.response||401!==D.response.status&&403!==D.response.status?H("Error fetching banners"):U("/login")}finally{P(!1)}},L=()=>{o(null),C(!1)};return M?(0,S.jsx)(i.Z,{children:"Loading..."}):D?(0,S.jsxs)(i.Z,{children:["Error: ",D]}):(0,S.jsxs)(S.Fragment,{children:[0===e.length?(0,S.jsx)(i.Z,{children:"No products found."}):(0,S.jsxs)(x.Z,{"aria-label":"simple table",children:[(0,S.jsx)(h.Z,{children:(0,S.jsxs)(p.Z,{children:[(0,S.jsx)(u.Z,{children:"Id"}),(0,S.jsx)(u.Z,{children:"NAME"}),(0,S.jsx)(u.Z,{children:"IMAGE 1"}),(0,S.jsx)(u.Z,{children:"IMAGE 2"}),(0,S.jsx)(u.Z,{children:"IMAGE 3"}),(0,S.jsx)(u.Z,{children:"IMAGE 4"}),(0,S.jsx)(u.Z,{children:"IMAGE 5"}),"single"===T&&(0,S.jsx)(u.Z,{children:"STOCK"}),"single"!==T&&(0,S.jsx)(u.Z,{children:"SIZE"}),(0,S.jsx)(u.Z,{children:"DELETE"}),(0,S.jsx)(u.Z,{children:"UPDATE"})]})}),(0,S.jsx)(m.Z,{children:e.map((e=>(0,S.jsxs)(p.Z,{children:[(0,S.jsx)(u.Z,{children:e.id}),(0,S.jsx)(u.Z,{children:"single"===T?(0,S.jsx)(a.Z,{sx:{maxWidth:"150px"},children:(0,S.jsx)(i.Z,{variant:"h6",noWrap:!0,children:e.color})}):(0,S.jsx)(d.rU,{to:"/size-table/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,S.jsx)(a.Z,{sx:{maxWidth:"150px"},children:(0,S.jsx)(i.Z,{variant:"h6",noWrap:!0,children:e.color})})})}),(0,S.jsx)(u.Z,{children:"single"===T?(0,S.jsx)("img",{src:"".concat(e.image1),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}}):(0,S.jsx)(d.rU,{to:"/size-table/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,S.jsx)("img",{src:"".concat(e.image1),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}})})}),(0,S.jsx)(u.Z,{children:"single"===T?(0,S.jsx)("img",{src:"".concat(e.image2),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}}):(0,S.jsx)(d.rU,{to:"/size-table/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,S.jsx)("img",{src:"".concat(e.image2),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}})})}),(0,S.jsx)(u.Z,{children:"single"===T?(0,S.jsx)("img",{src:"".concat(e.image3),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}}):(0,S.jsx)(d.rU,{to:"/size-table/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,S.jsx)("img",{src:"".concat(e.image3),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}})})}),(0,S.jsx)(u.Z,{children:"single"===T?(0,S.jsx)("img",{src:"".concat(e.image4),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}}):(0,S.jsx)(d.rU,{to:"/size-table/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,S.jsx)("img",{src:"".concat(e.image4),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}})})}),(0,S.jsx)(u.Z,{children:"single"===T?(0,S.jsx)("img",{src:"".concat(e.image5),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}}):(0,S.jsx)(d.rU,{to:"/size-table/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,S.jsx)("img",{src:"".concat(e.image5),alt:e.name,style:{maxWidth:"70px",maxHeight:"70px"}})})}),"single"===T?(0,S.jsx)(u.Z,{children:e.stock}):(0,S.jsx)(u.Z,{children:(0,S.jsx)(Z.Z,{variant:"contained",color:"primary",onClick:()=>{return t=e.id,W(t),w(T),void z(!0);var t},disabled:"single"===T,children:"Add Size"})}),(0,S.jsx)(u.Z,{children:(0,S.jsx)(Z.Z,{variant:"contained",color:"error",onClick:()=>(e=>{o(e),C(!0)})(e.id),startIcon:(0,S.jsx)(v.Z,{}),children:"Delete"})}),(0,S.jsx)(u.Z,{children:(0,S.jsx)(Z.Z,{variant:"contained",startIcon:(0,S.jsx)(b.Z,{}),onClick:()=>(e=>{w(T),U("/product-image-update/".concat(e,"/?type=").concat(T))})(e.id),children:"Update"})})]},e.id)))})]}),(0,S.jsxs)(j.Z,{open:s,onClose:L,children:[(0,S.jsx)(g.Z,{children:"Confirm Delete"}),(0,S.jsx)(y.Z,{children:(0,S.jsx)(i.Z,{variant:"body1",children:"Are you sure you want to delete this product?"})}),(0,S.jsxs)(f.Z,{children:[(0,S.jsx)(Z.Z,{onClick:L,children:"Cancel"}),(0,S.jsx)(Z.Z,{onClick:async()=>{try{await c.Z.delete("https://bepocart.in/admin/Bepocart-Product-images-delete/".concat(n,"/"),{data:{productType:T},headers:{Authorization:"".concat(R)}}),t(e.filter((e=>e.id!==n))),C(!1)}catch(D){console.error("Error deleting product:",D)}},variant:"contained",color:"error",children:"Confirm"})]})]}),(0,S.jsx)(E,{open:I,onClose:()=>z(!1),productId:A,onSizeAdded:e=>{t((t=>t.map((t=>t.id===e.productId?{...t,sizes:[...t.sizes,e]}:t))))},productTYPE:k})]})},z=()=>(0,S.jsx)(a.Z,{position:"relative",children:(0,S.jsx)(o.Z,{variant:"outlined",children:(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(i.Z,{variant:"h3",children:"Product Image Table"}),(0,S.jsx)(a.Z,{sx:{overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",maxWidth:"100%"},children:(0,S.jsx)(I,{})})]})})})},1286:(e,t,n)=>{var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),s=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},9504:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(7462),a=n(3366),o=n(2791),s=n(9278),i=n(4419),c=n(6934),l=n(1020),d=n(5878),x=n(1217);function h(e){return(0,x.ZP)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var p=n(184);const u=["className","component"],m=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),Z=o.forwardRef((function(e,t){const n=(0,l.i)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=n,d=(0,a.Z)(n,u),x=(0,r.Z)({},n,{component:c}),Z=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},h,t)})(x);return(0,p.jsx)(m,(0,r.Z)({as:c,className:(0,s.Z)(Z.root,o),ownerState:x,ref:t},d))}))},7621:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(7462),a=n(3366),o=n(2791),s=n(9278),i=n(4419),c=n(6934),l=n(1020),d=n(5527),x=n(5878),h=n(1217);function p(e){return(0,h.ZP)("MuiCard",e)}(0,x.Z)("MuiCard",["root"]);var u=n(184);const m=["className","raised"],Z=(0,c.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),j=o.forwardRef((function(e,t){const n=(0,l.i)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=n,d=(0,a.Z)(n,m),x=(0,r.Z)({},n,{raised:c}),h=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},p,t)})(x);return(0,u.jsx)(Z,(0,r.Z)({className:(0,s.Z)(h.root,o),elevation:c?8:void 0,ref:t,ownerState:x},d))}))}}]);
//# sourceMappingURL=1661.bca15b5b.chunk.js.map