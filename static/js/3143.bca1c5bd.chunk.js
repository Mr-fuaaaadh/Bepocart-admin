"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[3143],{3143:(e,r,t)=>{t.r(r),t.d(r,{default:()=>O});var n=t(2791),o=t(697),a=t(7621),s=t(9504),i=t(890),l=t(2903),c=t(7689),d=t(3239),u=t(9281),h=t(9836),Z=t(6890),m=t(5855),v=t(3994),p=t(3382),x=t(4518),f=t(7462),j=t(3366),g=t(9278),y=t(4419),S=t(829),C=t(1020),k=t(6934),b=t(5878),w=t(1217);function M(e){return(0,w.ZP)("MuiTableFooter",e)}(0,b.Z)("MuiTableFooter",["root"]);var P=t(184);const N=["className","component"],R=(0,k.ZP)("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"table-footer-group"}),E={variant:"footer"},T="tfoot",D=n.forwardRef((function(e,r){const t=(0,C.i)({props:e,name:"MuiTableFooter"}),{className:n,component:o=T}=t,a=(0,j.Z)(t,N),s=(0,f.Z)({},t,{component:o}),i=(e=>{const{classes:r}=e;return(0,y.Z)({root:["root"]},M,r)})(s);return(0,P.jsx)(S.Z.Provider,{value:E,children:(0,P.jsx)(R,(0,f.Z)({as:o,className:(0,g.Z)(i.root,n),ref:r,role:o===T?null:"rowgroup",ownerState:s},a))})}));var A=t(5289),I=t(5661),F=t(9157),z=t(7123),U=t(8550),B=t(7247);const W=()=>{const{id:e}=(0,c.UO)(),[r,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(null),[f,j]=(0,n.useState)(!1),[g,y]=(0,n.useState)(null),[S,C]=(0,n.useState)(!1),[k,b]=(0,n.useState)(""),[w,M]=(0,n.useState)(""),[N,R]=(0,n.useState)(""),[E,T]=(0,n.useState)(""),[W,O]=(0,n.useState)(!0),[_,L]=(0,n.useState)(null),V=(0,c.s0)();(0,n.useEffect)((()=>{Q()}),[]);const Q=async()=>{O(!0);try{const r=localStorage.getItem("token"),n=await l.Z.get("https://bepocart.in/admin/Bepocart-user-coins/".concat(e,"/"),{headers:{Authorization:"".concat(r)}});Array.isArray(n.data.data)?(t(n.data.data),console.log("dataaaaaaa    :",n.data.data)):(console.error("Invalid data format:",n.data.data),L("Invalid data format"))}catch(_){console.error("Error fetching coins:",_),!_.response||401!==_.response.status&&403!==_.response.status?L("Error fetching coins"):V("/login")}finally{O(!1)}},X=()=>{s(null),j(!1)},q=()=>{y(null),C(!1)};return(0,P.jsxs)(P.Fragment,{children:[W?(0,P.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,P.jsx)(d.Z,{})}):_?(0,P.jsx)(i.Z,{variant:"body1",color:"error",children:_}):(0,P.jsx)(u.Z,{children:(0,P.jsxs)(h.Z,{"aria-label":"simple table",sx:{mt:3,whiteSpace:"nowrap"},children:[(0,P.jsx)(Z.Z,{children:(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(v.Z,{children:"ID"}),(0,P.jsx)(v.Z,{children:"USER"}),(0,P.jsx)(v.Z,{children:"AMOUNT"}),(0,P.jsx)(v.Z,{children:"SOURCE"}),(0,P.jsx)(v.Z,{children:"TIMELAPSE"}),(0,P.jsx)(v.Z,{children:"DELETE"})]})}),(0,P.jsx)(p.Z,{children:r.map((e=>(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(v.Z,{children:e.id}),(0,P.jsxs)(v.Z,{children:[e.firstName," ",e.lastName]}),(0,P.jsx)(v.Z,{children:e.amount}),(0,P.jsx)(v.Z,{children:e.source}),(0,P.jsx)(v.Z,{children:e.timestamp}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(x.Z,{color:"secondary",onClick:()=>(e=>{s(e),j(!0)})(e.id),children:(0,P.jsx)(B.Z,{})})})]},e.id)))}),(0,P.jsx)(D,{children:(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(v.Z,{colSpan:2,children:(0,P.jsx)(i.Z,{variant:"h6",children:"Total Amount"})}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(i.Z,{variant:"h6",children:r.reduce(((e,r)=>e+r.amount),0)})}),(0,P.jsx)(v.Z,{colSpan:3})]})})]})}),(0,P.jsxs)(A.Z,{open:f,onClose:X,children:[(0,P.jsx)(I.Z,{children:"Delete Coin"}),(0,P.jsx)(F.Z,{children:"Are you sure you want to delete this coin?"}),(0,P.jsxs)(z.Z,{children:[(0,P.jsx)(x.Z,{onClick:X,color:"primary",children:"Cancel"}),(0,P.jsx)(x.Z,{onClick:async()=>{try{const e=localStorage.getItem("token");if(!e)return void console.error("User is not authenticated");await l.Z.delete("https://bepocart.in/admin/Bepocart-coin-delete/".concat(a,"/"),{headers:{Authorization:"".concat(e)}}),t(r.filter((e=>e.id!==a))),j(!1)}catch(_){console.error("Error deleting coin:",_)}},color:"secondary",children:"Delete"})]})]}),(0,P.jsxs)(A.Z,{open:S,onClose:q,children:[(0,P.jsx)(I.Z,{children:"Edit Coin"}),(0,P.jsxs)(F.Z,{children:[(0,P.jsx)(U.Z,{autoFocus:!0,margin:"dense",label:"Quantity",type:"number",fullWidth:!0,value:k,onChange:e=>b(e.target.value)}),(0,P.jsx)(U.Z,{margin:"dense",label:"Value",type:"number",fullWidth:!0,value:w,onChange:e=>M(e.target.value)}),(0,P.jsx)(U.Z,{margin:"dense",label:"Login Value",type:"number",fullWidth:!0,value:N,onChange:e=>R(e.target.value)}),(0,P.jsx)(U.Z,{margin:"dense",label:"Payment Value",type:"number",fullWidth:!0,value:E,onChange:e=>T(e.target.value)})]}),(0,P.jsxs)(z.Z,{children:[(0,P.jsx)(x.Z,{onClick:q,color:"primary",children:"Cancel"}),(0,P.jsx)(x.Z,{onClick:async()=>{try{const e=localStorage.getItem("token");await l.Z.put("https://bepocart.in/admin/Bepocart-coin-update/".concat(g,"/"),{coin:k,value:w,login_value:N,payment_value:E},{headers:{Authorization:"".concat(e),"Content-Type":"application/json"}});const n=r.map((e=>e.id===g?{...e,coin:k,value:w,login_value:N,payment_value:E}:e));t(n),C(!1)}catch(_){console.error("Error updating coin:",_)}},color:"primary",children:"Save"})]})]})]})},O=()=>(0,P.jsx)(o.Z,{position:"relative",children:(0,P.jsx)(a.Z,{variant:"outlined",children:(0,P.jsxs)(s.Z,{children:[(0,P.jsx)(i.Z,{variant:"h3",children:"USER COIN DATA"}),(0,P.jsx)(o.Z,{sx:{overflow:{xs:"auto",sm:"unset"}},children:(0,P.jsx)(W,{})})]})})})},9504:(e,r,t)=>{t.d(r,{Z:()=>p});var n=t(7462),o=t(3366),a=t(2791),s=t(9278),i=t(4419),l=t(6934),c=t(1020),d=t(5878),u=t(1217);function h(e){return(0,u.ZP)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var Z=t(184);const m=["className","component"],v=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=a.forwardRef((function(e,r){const t=(0,c.i)({props:e,name:"MuiCardContent"}),{className:a,component:l="div"}=t,d=(0,o.Z)(t,m),u=(0,n.Z)({},t,{component:l}),p=(e=>{const{classes:r}=e;return(0,i.Z)({root:["root"]},h,r)})(u);return(0,Z.jsx)(v,(0,n.Z)({as:l,className:(0,s.Z)(p.root,a),ownerState:u,ref:r},d))}))},7621:(e,r,t)=>{t.d(r,{Z:()=>x});var n=t(7462),o=t(3366),a=t(2791),s=t(9278),i=t(4419),l=t(6934),c=t(1020),d=t(5527),u=t(5878),h=t(1217);function Z(e){return(0,h.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var m=t(184);const v=["className","raised"],p=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({overflow:"hidden"}))),x=a.forwardRef((function(e,r){const t=(0,c.i)({props:e,name:"MuiCard"}),{className:a,raised:l=!1}=t,d=(0,o.Z)(t,v),u=(0,n.Z)({},t,{raised:l}),h=(e=>{const{classes:r}=e;return(0,i.Z)({root:["root"]},Z,r)})(u);return(0,m.jsx)(p,(0,n.Z)({className:(0,s.Z)(h.root,a),elevation:l?8:void 0,ref:r,ownerState:u},d))}))},3239:(e,r,t)=>{t.d(r,{Z:()=>T});var n=t(168),o=t(3366),a=t(7462),s=t(2791),i=t(9278),l=t(4419),c=t(2554),d=t(4036),u=t(1020),h=t(6934),Z=t(5878),m=t(1217);function v(e){return(0,m.ZP)("MuiCircularProgress",e)}(0,Z.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p,x,f,j,g=t(184);const y=["className","color","disableShrink","size","style","thickness","value","variant"];let S,C,k,b;const w=44,M=(0,c.F4)(S||(S=p||(p=(0,n.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),P=(0,c.F4)(C||(C=x||(x=(0,n.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),N=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r["color".concat((0,d.Z)(t.color))]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,a.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,c.iv)(k||(k=f||(f=(0,n.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),M)})),R=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),E=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r["circle".concat((0,d.Z)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,a.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,c.iv)(b||(b=j||(j=(0,n.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),P)})),T=s.forwardRef((function(e,r){const t=(0,u.i)({props:e,name:"MuiCircularProgress"}),{className:n,color:s="primary",disableShrink:c=!1,size:h=40,style:Z,thickness:m=3.6,value:p=0,variant:x="indeterminate"}=t,f=(0,o.Z)(t,y),j=(0,a.Z)({},t,{color:s,disableShrink:c,size:h,thickness:m,value:p,variant:x}),S=(e=>{const{classes:r,variant:t,color:n,disableShrink:o}=e,a={root:["root",t,"color".concat((0,d.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(t)),o&&"circleDisableShrink"]};return(0,l.Z)(a,v,r)})(j),C={},k={},b={};if("determinate"===x){const e=2*Math.PI*((w-m)/2);C.strokeDasharray=e.toFixed(3),b["aria-valuenow"]=Math.round(p),C.strokeDashoffset="".concat(((100-p)/100*e).toFixed(3),"px"),k.transform="rotate(-90deg)"}return(0,g.jsx)(N,(0,a.Z)({className:(0,i.Z)(S.root,n),style:(0,a.Z)({width:h,height:h},k,Z),ownerState:j,ref:r,role:"progressbar"},b,f,{children:(0,g.jsx)(R,{className:S.svg,ownerState:j,viewBox:"".concat(22," ").concat(22," ").concat(w," ").concat(w),children:(0,g.jsx)(E,{className:S.circle,style:C,ownerState:j,cx:w,cy:w,r:(w-m)/2,fill:"none",strokeWidth:m})})}))}))},9281:(e,r,t)=>{t.d(r,{Z:()=>p});var n=t(7462),o=t(3366),a=t(2791),s=t(9278),i=t(4419),l=t(1020),c=t(6934),d=t(5878),u=t(1217);function h(e){return(0,u.ZP)("MuiTableContainer",e)}(0,d.Z)("MuiTableContainer",["root"]);var Z=t(184);const m=["className","component"],v=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,r)=>r.root})({width:"100%",overflowX:"auto"}),p=a.forwardRef((function(e,r){const t=(0,l.i)({props:e,name:"MuiTableContainer"}),{className:a,component:c="div"}=t,d=(0,o.Z)(t,m),u=(0,n.Z)({},t,{component:c}),p=(e=>{const{classes:r}=e;return(0,i.Z)({root:["root"]},h,r)})(u);return(0,Z.jsx)(v,(0,n.Z)({ref:r,as:c,className:(0,s.Z)(p.root,a),ownerState:u},d))}))}}]);
//# sourceMappingURL=3143.bca1c5bd.chunk.js.map