"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[6465],{6465:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var r=a(2791),n=a(1087),o=a(9504),i=a(697),s=a(890),c=a(4518),l=a(2903),d=a(3239),u=a(9836),p=a(6890),m=a(5855),h=a(3994),g=a(3382),Z=a(5289),v=a(5661),x=a(9157),f=a(7123),y=a(8550),b=a(8096),j=a(4925),C=a(8406),S=a(3786),k=a(7247),w=a(1286),M=a(184);const I=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(null),[o,I]=(0,r.useState)(!1),[P,N]=(0,r.useState)(null),[R,D]=(0,r.useState)(!1),[L,O]=(0,r.useState)(""),[F,z]=(0,r.useState)(null),[A,B]=(0,r.useState)(""),[V,W]=(0,r.useState)(""),[T,E]=(0,r.useState)([]),[G,U]=(0,r.useState)(!0),[q,H]=(0,r.useState)(null);(0,r.useEffect)((()=>{J(),K()}),[]);const J=async()=>{U(!0);try{const e=localStorage.getItem("token"),a=await l.Z.get("https://bepocart.in/admin/Bepocart-subcategories/",{headers:{Authorization:"".concat(e)}});Array.isArray(a.data.data)?t(a.data.data):H("Invalid data format")}catch(q){H("Error fetching subcategories")}finally{U(!1)}},K=async()=>{try{const e=localStorage.getItem("token"),t=await l.Z.get("https://bepocart.in/admin/Bepocart-categories/",{headers:{Authorization:"".concat(e)}});Array.isArray(t.data)?E(t.data):console.error("Invalid data format for main categories:",t.data)}catch(q){console.error("Error fetching main categories:",q)}},Q=()=>{n(null),I(!1)},X=()=>{N(null),D(!1)};return(0,M.jsxs)(M.Fragment,{children:[G?(0,M.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,M.jsx)(d.Z,{})}):q?(0,M.jsx)(s.Z,{variant:"body1",color:"error",children:q}):(0,M.jsxs)(u.Z,{"aria-label":"simple table",sx:{mt:3,whiteSpace:"nowrap"},children:[(0,M.jsx)(p.Z,{children:(0,M.jsxs)(m.Z,{children:[(0,M.jsx)(h.Z,{children:"Id"}),(0,M.jsx)(h.Z,{children:"Name"}),(0,M.jsx)(h.Z,{children:"Slug"}),(0,M.jsx)(h.Z,{children:"Image"}),(0,M.jsx)(h.Z,{children:"Delete"}),(0,M.jsx)(h.Z,{children:"Update"})]})}),(0,M.jsx)(g.Z,{children:e.map((e=>(0,M.jsxs)(m.Z,{children:[(0,M.jsx)(h.Z,{children:e.id}),(0,M.jsx)(h.Z,{children:(0,M.jsx)(i.Z,{sx:{display:"flex",alignItems:"center"},children:(0,M.jsxs)(i.Z,{children:[(0,M.jsx)(s.Z,{variant:"h6",sx:{fontWeight:"600"},children:e.name}),(0,M.jsx)(s.Z,{color:"textSecondary",sx:{fontSize:"13px"},children:e.categoryName})]})})}),(0,M.jsx)(h.Z,{children:e.slug}),(0,M.jsx)(h.Z,{children:(0,M.jsx)("img",{src:e.image,alt:e.name,style:{maxWidth:"50px",maxHeight:"50px"}})}),(0,M.jsx)(h.Z,{children:(0,M.jsxs)(c.Z,{variant:"contained",color:"error",onClick:()=>{return t=e.id,n(t),void I(!0);var t},children:[(0,M.jsx)(k.Z,{})," Delete"]})}),(0,M.jsx)(h.Z,{children:(0,M.jsxs)(c.Z,{variant:"contained",onClick:()=>{return t=e.id,a=e.name,r=e.slug,n=e.mainCategory,N(t),O(a),W(r),B(n),void D(!0);var t,a,r,n},children:[(0,M.jsx)(w.Z,{})," Update"]})})]},e.id)))})]}),(0,M.jsxs)(Z.Z,{open:o,onClose:Q,children:[(0,M.jsx)(v.Z,{children:"Confirm Delete"}),(0,M.jsx)(x.Z,{children:(0,M.jsx)(s.Z,{variant:"body1",children:"Are you sure you want to delete this product?"})}),(0,M.jsxs)(f.Z,{children:[(0,M.jsx)(c.Z,{onClick:Q,children:"Cancel"}),(0,M.jsx)(c.Z,{onClick:async()=>{try{const r=localStorage.getItem("token");if(!r)return void console.error("No token found");await l.Z.delete("https://bepocart.in/admin/Bepocart-subcategory-delete/".concat(a,"/"),{headers:{Authorization:"".concat(r)}}),t(e.filter((e=>e.id!==a))),I(!1)}catch(q){console.error("Error deleting product:",q)}},variant:"contained",color:"error",children:"Confirm"})]})]}),(0,M.jsxs)(Z.Z,{open:R,onClose:X,children:[(0,M.jsx)(v.Z,{children:"Edit Product"}),(0,M.jsxs)(x.Z,{children:[(0,M.jsx)(y.Z,{label:"Product Name",value:L,onChange:e=>O(e.target.value),fullWidth:!0,variant:"outlined",margin:"normal"}),(0,M.jsx)(y.Z,{label:"Slug",value:V,onChange:e=>W(e.target.value),fullWidth:!0,variant:"outlined",margin:"normal"}),(0,M.jsxs)(b.Z,{fullWidth:!0,variant:"outlined",margin:"normal",children:[(0,M.jsx)(j.Z,{children:"Main Category"}),(0,M.jsx)(C.Z,{value:A,onChange:e=>B(e.target.value),label:"Main Category",children:T.length>0?T.map((e=>(0,M.jsx)(S.Z,{value:e.id,children:e.name},e.id))):(0,M.jsx)(S.Z,{value:"",disabled:!0,children:"No categories available"})})]}),(0,M.jsxs)(i.Z,{mt:2,children:[(0,M.jsx)(s.Z,{variant:"subtitle1",children:"Product Image:"}),(0,M.jsxs)(i.Z,{mt:1,children:[F&&(0,M.jsx)("img",{src:URL.createObjectURL(F),alt:"Product",style:{maxWidth:"100%",borderRadius:"4px"}}),(0,M.jsx)("input",{type:"file",accept:"image/*",onChange:e=>z(e.target.files[0]),style:{marginTop:"8px"}})]})]})]}),(0,M.jsxs)(f.Z,{children:[(0,M.jsx)(c.Z,{onClick:X,color:"primary",children:"Cancel"}),(0,M.jsx)(c.Z,{onClick:async()=>{try{const a=new FormData;a.append("name",L),a.append("slug",V),F&&a.append("image",F),a.append("category",A);const r=localStorage.getItem("token");await l.Z.put("https://bepocart.in/admin/Bepocart-subcategory-update/".concat(P,"/"),a,{headers:{Authorization:"".concat(r)}});const n=e.map((e=>e.id===P?{...e,name:L,slug:V,image:F?URL.createObjectURL(F):e.image,mainCategory:A}:e));t(n),D(!1)}catch(q){console.error("Error updating product:",q)}},variant:"contained",color:"primary",children:"Save"})]})]})]})},P=()=>(0,M.jsxs)(o.Z,{children:[(0,M.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,M.jsx)(s.Z,{variant:"h3",children:"Sub Category Table"}),(0,M.jsx)(c.Z,{component:n.rU,to:"/subcategory-form/",variant:"contained",color:"success",children:"Add Subcategory"})]}),(0,M.jsx)(i.Z,{sx:{overflow:{xs:"auto",sm:"unset"}},children:(0,M.jsx)(I,{})})]})},1286:(e,t,a)=>{var r=a(4836);t.Z=void 0;var n=r(a(5649)),o=a(184),i=(0,n.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=i},9504:(e,t,a)=>{a.d(t,{Z:()=>Z});var r=a(7462),n=a(3366),o=a(2791),i=a(9278),s=a(4419),c=a(6934),l=a(1020),d=a(5878),u=a(1217);function p(e){return(0,u.ZP)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var m=a(184);const h=["className","component"],g=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),Z=o.forwardRef((function(e,t){const a=(0,l.i)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=a,d=(0,n.Z)(a,h),u=(0,r.Z)({},a,{component:c}),Z=(e=>{const{classes:t}=e;return(0,s.Z)({root:["root"]},p,t)})(u);return(0,m.jsx)(g,(0,r.Z)({as:c,className:(0,i.Z)(Z.root,o),ownerState:u,ref:t},d))}))},3239:(e,t,a)=>{a.d(t,{Z:()=>D});var r=a(168),n=a(3366),o=a(7462),i=a(2791),s=a(9278),c=a(4419),l=a(2554),d=a(4036),u=a(1020),p=a(6934),m=a(5878),h=a(1217);function g(e){return(0,h.ZP)("MuiCircularProgress",e)}(0,m.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var Z,v,x,f,y=a(184);const b=["className","color","disableShrink","size","style","thickness","value","variant"];let j,C,S,k;const w=44,M=(0,l.F4)(j||(j=Z||(Z=(0,r.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),I=(0,l.F4)(C||(C=v||(v=(0,r.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),P=(0,p.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["color".concat((0,d.Z)(a.color))]]}})((e=>{let{ownerState:t,theme:a}=e;return(0,o.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:a.transitions.create("transform")},"inherit"!==t.color&&{color:(a.vars||a).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,l.iv)(S||(S=x||(x=(0,r.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),M)})),N=(0,p.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),R=(0,p.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.circle,t["circle".concat((0,d.Z)(a.variant))],a.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:a}=e;return(0,o.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,l.iv)(k||(k=f||(f=(0,r.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),I)})),D=i.forwardRef((function(e,t){const a=(0,u.i)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:l=!1,size:p=40,style:m,thickness:h=3.6,value:Z=0,variant:v="indeterminate"}=a,x=(0,n.Z)(a,b),f=(0,o.Z)({},a,{color:i,disableShrink:l,size:p,thickness:h,value:Z,variant:v}),j=(e=>{const{classes:t,variant:a,color:r,disableShrink:n}=e,o={root:["root",a,"color".concat((0,d.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(a)),n&&"circleDisableShrink"]};return(0,c.Z)(o,g,t)})(f),C={},S={},k={};if("determinate"===v){const e=2*Math.PI*((w-h)/2);C.strokeDasharray=e.toFixed(3),k["aria-valuenow"]=Math.round(Z),C.strokeDashoffset="".concat(((100-Z)/100*e).toFixed(3),"px"),S.transform="rotate(-90deg)"}return(0,y.jsx)(P,(0,o.Z)({className:(0,s.Z)(j.root,r),style:(0,o.Z)({width:p,height:p},S,m),ownerState:f,ref:t,role:"progressbar"},k,x,{children:(0,y.jsx)(N,{className:j.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(w," ").concat(w),children:(0,y.jsx)(R,{className:j.circle,style:C,ownerState:f,cx:w,cy:w,r:(w-h)/2,fill:"none",strokeWidth:h})})}))}))},133:(e,t,a)=>{a.d(t,{V:()=>o,Z:()=>i});var r=a(5878),n=a(1217);function o(e){return(0,n.ZP)("MuiDivider",e)}const i=(0,r.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},6014:(e,t,a)=>{a.d(t,{Z:()=>i,f:()=>o});var r=a(5878),n=a(1217);function o(e){return(0,n.ZP)("MuiListItemIcon",e)}const i=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},9849:(e,t,a)=>{a.d(t,{L:()=>o,Z:()=>i});var r=a(5878),n=a(1217);function o(e){return(0,n.ZP)("MuiListItemText",e)}const i=(0,r.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},3786:(e,t,a)=>{a.d(t,{Z:()=>w});var r=a(3366),n=a(7462),o=a(2791),i=a(9278),s=a(4419),c=a(4131),l=a(6934),d=a(5070),u=a(1020),p=a(6199),m=a(533),h=a(162),g=a(2071),Z=a(133),v=a(6014),x=a(9849),f=a(5878),y=a(1217);function b(e){return(0,y.ZP)("MuiMenuItem",e)}const j=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=a(184);const S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,l.ZP)(m.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,n.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(Z.Z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(Z.Z.inset)]:{marginLeft:52},["& .".concat(x.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(x.Z.inset)]:{paddingLeft:36},["& .".concat(v.Z.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,n.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(v.Z.root," svg")]:{fontSize:"1.25rem"}}))})),w=o.forwardRef((function(e,t){const a=(0,u.i)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:d=!1,divider:m=!1,disableGutters:Z=!1,focusVisibleClassName:v,role:x="menuitem",tabIndex:f,className:y}=a,j=(0,r.Z)(a,S),w=o.useContext(p.Z),M=o.useMemo((()=>({dense:d||w.dense||!1,disableGutters:Z})),[w.dense,d,Z]),I=o.useRef(null);(0,h.Z)((()=>{c&&I.current&&I.current.focus()}),[c]);const P=(0,n.Z)({},a,{dense:M.dense,divider:m,disableGutters:Z}),N=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:o,selected:i,classes:c}=e,l={root:["root",a&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},d=(0,s.Z)(l,b,c);return(0,n.Z)({},c,d)})(a),R=(0,g.Z)(I,t);let D;return a.disabled||(D=void 0!==f?f:-1),(0,C.jsx)(p.Z.Provider,{value:M,children:(0,C.jsx)(k,(0,n.Z)({ref:R,role:x,tabIndex:D,component:l,focusVisibleClassName:(0,i.Z)(N.focusVisible,v),className:(0,i.Z)(N.root,y)},j,{ownerState:P,classes:N}))})}))}}]);
//# sourceMappingURL=6465.7f5b0d45.chunk.js.map