"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[1152],{195:(n,e,i)=>{i.r(e),i.d(e,{default:()=>T});var t=i(2791),a=i(697),r=i(9281),o=i(7621),d=i(9504),s=i(890),c=i(1889),l=i(5527),h=i(9836),x=i(6890),m=i(5855),j=i(3994),Z=i(3382),p=i(4518),g=i(1203),b=i(7689);const y=i.p+"static/media/bepocart.0e17e07b60b3dd063891.png";var v=i(2903),u=i(5125),f=i(5498),w=i.n(f),I=i(184);const P=(0,g.Z)(a.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}),E=(0,g.Z)(a.Z)({marginBottom:"20px"}),C=(0,g.Z)(r.Z)({marginBottom:"20px"}),N=(0,g.Z)(a.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}),O=(0,g.Z)(a.Z)({width:"100%",height:"100%",padding:"20px",boxSizing:"border-box"}),T=()=>{const{order_id:n}=(0,b.UO)(),[e,i]=(0,t.useState)(null);if((0,t.useEffect)((()=>{(async()=>{try{const e=await v.Z.get("https://bepocart.in/admin/Bepocart-Order-Bill/".concat(n,"/"));i(e.data)}catch(e){console.error("Error fetching order data:",e)}})()}),[n]),!e)return(0,I.jsx)("div",{children:"Loading..."});const r="COD"===e.data.payment_method?40:0,g=parseFloat(e.data.total_amount)<500?60:0,f=parseFloat(e.data.total_amount);return(0,I.jsxs)(O,{children:[(0,I.jsx)("div",{id:"invoice-container",children:(0,I.jsx)(o.Z,{variant:"outlined",style:{height:"100%"},children:(0,I.jsxs)(d.Z,{style:{height:"100%"},children:[(0,I.jsxs)(P,{className:"invoice-header",children:[(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(s.Z,{variant:"h4",children:"INVOICE"}),(0,I.jsx)(s.Z,{variant:"body2",color:"primary",children:e.data.status})]}),(0,I.jsx)(a.Z,{children:(0,I.jsx)("img",{src:y,alt:"Company Logo",style:{height:"100px"}})})]}),(0,I.jsx)(E,{children:(0,I.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,I.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,I.jsx)(s.Z,{variant:"h6",children:"DATE"}),(0,I.jsx)(s.Z,{variant:"body2",children:e.data.created_at})]}),(0,I.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,I.jsx)(s.Z,{variant:"h6",children:"INVOICE NO"}),(0,I.jsx)(s.Z,{variant:"body2",children:e.data.order_id})]}),(0,I.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,I.jsx)(s.Z,{variant:"h6",children:"INVOICE FROM"}),(0,I.jsx)(s.Z,{variant:"body2",children:"Name: Bepocart"}),(0,I.jsx)(s.Z,{variant:"body2",children:"Address: Willington Island , 256314 , Valav thirinj moonnanmathe building"}),(0,I.jsx)(s.Z,{variant:"body2",children:"Email: Bepocart@gmail.com"}),(0,I.jsx)(s.Z,{variant:"body2",children:"Phone: 123456789"})]}),(0,I.jsxs)(c.ZP,{item:!0,xs:6,children:[(0,I.jsx)(s.Z,{variant:"h6",children:"INVOICE TO"}),(0,I.jsxs)(s.Z,{variant:"body2",children:["Name: ",e.data.customerName," ",e.data.lastName]}),(0,I.jsxs)(s.Z,{variant:"body2",children:["Address: ",e.data.address,", ",e.data.city,", ",e.data.state,", ",e.data.pincode]}),(0,I.jsxs)(s.Z,{variant:"body2",children:["Email: ",e.data.email]}),(0,I.jsxs)(s.Z,{variant:"body2",children:["Phone: ",e.data.phone]})]})]})}),(0,I.jsx)(C,{component:l.Z,children:(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(x.Z,{children:(0,I.jsxs)(m.Z,{children:[(0,I.jsx)(j.Z,{children:"SR."}),(0,I.jsx)(j.Z,{children:"PRODUCT IMAGE"}),(0,I.jsx)(j.Z,{children:"PRODUCT TITLE"}),(0,I.jsx)(j.Z,{children:"QUANTITY"}),(0,I.jsx)(j.Z,{children:"ITEM PRICE"}),(0,I.jsx)(j.Z,{children:"AMOUNT"})]})}),(0,I.jsx)(Z.Z,{children:e.order_items.map(((n,e)=>{let{productImage:i,productName:t,color:a,size:r,quantity:o,price:d}=n;return(0,I.jsxs)(m.Z,{children:[(0,I.jsx)(j.Z,{children:e+1}),(0,I.jsx)(j.Z,{children:(0,I.jsx)("img",{src:i,alt:"".concat(t," - ").concat(a," - ").concat(r),style:{width:"50px",height:"50px",objectFit:"cover"}})}),(0,I.jsxs)(j.Z,{children:[t," - ",a," - ",r]}),(0,I.jsx)(j.Z,{children:o}),(0,I.jsxs)(j.Z,{children:["\u20b9",d]}),(0,I.jsx)(j.Z,{children:(0,I.jsxs)(s.Z,{color:"error",style:{fontWeight:"bold"},children:["\u20b9",(o*parseFloat(d)).toFixed(2)]})})]},e)}))})]})}),(0,I.jsxs)(N,{children:[(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(s.Z,{variant:"h6",children:"PAYMENT METHOD"}),(0,I.jsx)(s.Z,{variant:"body2",children:e.data.payment_method})]}),(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(s.Z,{variant:"h6",children:"COD CHARGE"}),(0,I.jsxs)(s.Z,{variant:"body2",children:["\u20b9",r.toFixed(2)]})]}),(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(s.Z,{variant:"body2",children:"SHIPPING COST"}),(0,I.jsxs)(s.Z,{variant:"body2",children:["\u20b9",g.toFixed(2)]})]}),(0,I.jsxs)(a.Z,{children:[(0,I.jsx)(s.Z,{variant:"h6",children:"TOTAL AMOUNT"}),(0,I.jsxs)(s.Z,{variant:"h6",color:"error",style:{fontWeight:"bold"},children:["\u20b9",f.toFixed(2)]})]})]})]})})}),(0,I.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,I.jsx)(p.Z,{variant:"contained",color:"primary",onClick:async()=>{const n=document.getElementById("invoice-container");if(n)try{const i=Array.from(n.getElementsByTagName("img"));await Promise.all(i.map((n=>{return e=n.src,new Promise(((n,i)=>{const t=new Image;t.crossOrigin="anonymous",t.onload=()=>n(t),t.onerror=n=>i(n),t.src=e}));var e})));const t=await w()(n),a=t.toDataURL("image/png"),r=new u.ZP("p","mm","a4"),o=210,d=295,s=t.height*o/t.width;let c=s,l=0;for(r.addImage(a,"PNG",0,l,o,s),c-=d;c>=0;)l=c-s,r.addPage(),r.addImage(a,"PNG",0,l,o,s),c-=d;r.save("".concat(e.data.order_id,"_invoice.pdf"))}catch(i){console.error("Error creating PDF:",i.message||i)}else console.error("Invoice container not found")},children:"Download Invoice"}),(0,I.jsx)(p.Z,{variant:"contained",color:"secondary",onClick:()=>{const n=document.getElementById("invoice-container").innerHTML,e=window.open("","","height=800,width=800");e.document.write("<html><head><title>Invoice</title>"),e.document.write("\n            <style>\n                @media print {\n                    body {\n                        font-family: Arial, sans-serif;\n                        margin: 0;\n                        padding: 20px;\n                        box-sizing: border-box;\n                    }\n                    #invoice-container {\n                        width: 100%;\n                        margin: 0;\n                        padding: 0;\n                        box-sizing: border-box;\n                    }\n                    .invoice-header, .invoice-footer {\n                        margin: 0;\n                        padding: 10px;\n                        border-bottom: 1px solid #ddd;\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                    }\n                    .invoice-header {\n                        border-bottom: 2px solid #000;\n                    }\n                    .invoice-footer {\n                        border-top: 2px solid #000;\n                        text-align: right;\n                    }\n                    .invoice-table {\n                        width: 100%;\n                        border-collapse: collapse;\n                        margin: 20px 0;\n                        text-align: left;\n                    }\n                    .invoice-table th, .invoice-table td {\n                        border: 1px solid #ddd;\n                        padding: 8px;\n                        text-align: left;\n                    }\n                    .invoice-table th {\n                        background-color: #f4f4f4;\n                    }\n                    img {\n                        max-width: 100px;\n                        height: auto;\n                        object-fit: cover;\n                    }\n                    .page-break {\n                        page-break-before: always;\n                    }\n                    button {\n                        display: none;\n                    }\n                }\n            </style>\n        "),e.document.write("</head><body>"),e.document.write(n),e.document.write("</body></html>"),e.document.close(),e.focus(),e.onload=function(){e.print(),e.close()}},children:"Print Invoice"})]})]})}}}]);
//# sourceMappingURL=1152.c9741f47.chunk.js.map