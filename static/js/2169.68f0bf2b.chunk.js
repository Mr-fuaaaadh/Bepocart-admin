"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[2169],{2169:(e,r,t)=>{t.r(r),t.d(r,{default:()=>M});var a=t(2791),n=t(1087),o=t(9504),s=t(697),i=t(890),c=t(4518),l=t(2903),d=t(7689),h=t(8550),x=t(3239),u=t(9836),m=t(6890),Z=t(5855),p=t(3994),v=t(3382),f=t(5289),j=t(5661),g=t(9157),w=t(7123),y=t(7247),S=t(1286),k=t(2058),C=t(5403),b=t(184);const P=()=>{const[e,r]=(0,a.useState)([]),[t,o]=(0,a.useState)([]),[P,M]=(0,a.useState)(""),[I,D]=(0,a.useState)(null),[N,z]=(0,a.useState)(!1),[L,W]=(0,a.useState)(!0),[R,F]=(0,a.useState)(null),A=(0,d.s0)(),E=(0,a.useCallback)((async()=>{try{const e=localStorage.getItem("token"),t=await l.Z.get("https://bepocart.in/admin/Bepocart-products/",{headers:{Authorization:"".concat(e)}});if(Array.isArray(t.data.data)){const e=t.data.data.sort(((e,r)=>e.id-r.id));r(e),o(e)}else console.error("Invalid data format:",t.data),F("Invalid data format")}catch(R){console.error("Error fetching products:",R),!R.response||401!==R.response.status&&403!==R.response.status?F("Error fetching products"):A("/login")}finally{W(!1)}}),[A]);(0,a.useEffect)((()=>{E()}),[E]),(0,a.useEffect)((()=>{if(P){const r=P.toLowerCase();o(e.filter((e=>e.name.toLowerCase().includes(r)||e.categoryName.toLowerCase().includes(r))).sort(((e,r)=>e.id-r.id)))}else o(e.sort(((e,r)=>e.id-r.id)))}),[P,e]);const U=()=>{D(null),z(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.Z,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[(0,b.jsx)(h.Z,{label:"Search",placeholder:"Search by product name or category",variant:"outlined",size:"small",value:P,onChange:e=>M(e.target.value),sx:{flex:1}}),(0,b.jsx)(c.Z,{variant:"contained",color:"primary",startIcon:(0,b.jsx)(C.Z,{}),children:"Search"})]}),L?(0,b.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,b.jsx)(x.Z,{})}):R?(0,b.jsx)(i.Z,{variant:"body1",color:"error",children:R}):(0,b.jsxs)(u.Z,{"aria-label":"simple table",sx:{mt:3,whiteSpace:"nowrap"},children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)(Z.Z,{children:[(0,b.jsx)(p.Z,{children:"Id"}),(0,b.jsx)(p.Z,{children:"Name"}),(0,b.jsx)(p.Z,{children:"Image"}),(0,b.jsx)(p.Z,{children:"Price"}),(0,b.jsx)(p.Z,{children:"Sale Price"}),(0,b.jsx)(p.Z,{children:"Category"}),(0,b.jsx)(p.Z,{children:"Variation"}),(0,b.jsx)(p.Z,{children:"Delete"}),(0,b.jsx)(p.Z,{children:"Update"})]})}),(0,b.jsx)(v.Z,{children:t.map(((e,r)=>(0,b.jsxs)(Z.Z,{children:[(0,b.jsx)(p.Z,{children:r+1}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(s.Z,{sx:{maxWidth:"150px"},children:(0,b.jsx)(n.rU,{to:"/product-image-form/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,b.jsx)(i.Z,{variant:"h6",noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name})})})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)("div",{className:"image-container",children:(0,b.jsxs)(n.rU,{to:"/product-image-form/".concat(e.id,"/"),style:{textDecoration:"none",color:"inherit"},children:[(0,b.jsx)("img",{src:"".concat(e.image),alt:e.name,className:"product-image"}),e.discount&&(0,b.jsxs)("div",{className:"discount-label",children:[Math.round(e.discount),"% OFF"]})]})})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(s.Z,{sx:{maxWidth:"150px"},children:(0,b.jsx)(i.Z,{variant:"h6",noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.price})})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(s.Z,{sx:{maxWidth:"150px"},children:(0,b.jsx)(i.Z,{variant:"h6",noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.salePrice})})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(s.Z,{sx:{maxWidth:"150px"},children:(0,b.jsx)(i.Z,{variant:"h6",noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.categoryName})})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(c.Z,{component:n.rU,to:"/product-image-table/".concat(e.id,"/"),variant:"contained",color:"primary",startIcon:(0,b.jsx)(k.Z,{}),children:"Variant"})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(c.Z,{variant:"contained",color:"error",onClick:()=>{return r=e.id,D(r),void z(!0);var r},startIcon:(0,b.jsx)(y.Z,{}),children:"Delete"})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(c.Z,{variant:"contained",startIcon:(0,b.jsx)(S.Z,{}),onClick:()=>{return r=e.id,void A("/product-update/".concat(r,"/"));var r},children:"Update"})})]},e.id)))})]}),(0,b.jsxs)(f.Z,{open:N,onClose:U,children:[(0,b.jsx)(j.Z,{children:"Confirm Delete"}),(0,b.jsx)(g.Z,{children:(0,b.jsx)(i.Z,{variant:"body1",children:"Are you sure you want to delete this product?"})}),(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(c.Z,{onClick:U,children:"Cancel"}),(0,b.jsx)(c.Z,{onClick:async()=>{try{const e=localStorage.getItem("token");await l.Z.delete("https://bepocart.in/admin/Bepocart-product-delete/".concat(I,"/"),{headers:{Authorization:"".concat(e)}}),r((e=>e.filter((e=>e.id!==I)).sort(((e,r)=>e.id-r.id)))),o((e=>e.filter((e=>e.id!==I)).sort(((e,r)=>e.id-r.id)))),z(!1)}catch(R){console.error("Error deleting product:",R)}},variant:"contained",color:"error",children:"Confirm"})]})]})]})},M=()=>(0,b.jsxs)(o.Z,{children:[(0,b.jsxs)(s.Z,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(i.Z,{variant:"h3",children:"Product Table"}),(0,b.jsx)(c.Z,{component:n.rU,to:"/product-form/",variant:"contained",color:"success",sx:{mt:{xs:2,sm:0}},children:"Add Product"})]}),(0,b.jsx)(s.Z,{sx:{overflow:{xs:"auto",sm:"unset"}},children:(0,b.jsx)(P,{})})]})},1286:(e,r,t)=>{var a=t(4836);r.Z=void 0;var n=a(t(5649)),o=t(184),s=(0,n.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=s},2058:(e,r,t)=>{var a=t(4836);r.Z=void 0;var n=a(t(5649)),o=t(184),s=(0,n.default)((0,o.jsx)("path",{d:"M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"}),"PermMedia");r.Z=s},5403:(e,r,t)=>{var a=t(4836);r.Z=void 0;var n=a(t(5649)),o=t(184),s=(0,n.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");r.Z=s},9504:(e,r,t)=>{t.d(r,{Z:()=>p});var a=t(7462),n=t(3366),o=t(2791),s=t(9278),i=t(4419),c=t(6934),l=t(1020),d=t(5878),h=t(1217);function x(e){return(0,h.ZP)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var u=t(184);const m=["className","component"],Z=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=o.forwardRef((function(e,r){const t=(0,l.i)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=t,d=(0,n.Z)(t,m),h=(0,a.Z)({},t,{component:c}),p=(e=>{const{classes:r}=e;return(0,i.Z)({root:["root"]},x,r)})(h);return(0,u.jsx)(Z,(0,a.Z)({as:c,className:(0,s.Z)(p.root,o),ownerState:h,ref:r},d))}))},3239:(e,r,t)=>{t.d(r,{Z:()=>z});var a=t(168),n=t(3366),o=t(7462),s=t(2791),i=t(9278),c=t(4419),l=t(2554),d=t(4036),h=t(1020),x=t(6934),u=t(5878),m=t(1217);function Z(e){return(0,m.ZP)("MuiCircularProgress",e)}(0,u.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p,v,f,j,g=t(184);const w=["className","color","disableShrink","size","style","thickness","value","variant"];let y,S,k,C;const b=44,P=(0,l.F4)(y||(y=p||(p=(0,a.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),M=(0,l.F4)(S||(S=v||(v=(0,a.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),I=(0,x.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r["color".concat((0,d.Z)(t.color))]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,o.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.iv)(k||(k=f||(f=(0,a.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),P)})),D=(0,x.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),N=(0,x.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r["circle".concat((0,d.Z)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,o.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.iv)(C||(C=j||(j=(0,a.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),M)})),z=s.forwardRef((function(e,r){const t=(0,h.i)({props:e,name:"MuiCircularProgress"}),{className:a,color:s="primary",disableShrink:l=!1,size:x=40,style:u,thickness:m=3.6,value:p=0,variant:v="indeterminate"}=t,f=(0,n.Z)(t,w),j=(0,o.Z)({},t,{color:s,disableShrink:l,size:x,thickness:m,value:p,variant:v}),y=(e=>{const{classes:r,variant:t,color:a,disableShrink:n}=e,o={root:["root",t,"color".concat((0,d.Z)(a))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(t)),n&&"circleDisableShrink"]};return(0,c.Z)(o,Z,r)})(j),S={},k={},C={};if("determinate"===v){const e=2*Math.PI*((b-m)/2);S.strokeDasharray=e.toFixed(3),C["aria-valuenow"]=Math.round(p),S.strokeDashoffset="".concat(((100-p)/100*e).toFixed(3),"px"),k.transform="rotate(-90deg)"}return(0,g.jsx)(I,(0,o.Z)({className:(0,i.Z)(y.root,a),style:(0,o.Z)({width:x,height:x},k,u),ownerState:j,ref:r,role:"progressbar"},C,f,{children:(0,g.jsx)(D,{className:y.svg,ownerState:j,viewBox:"".concat(22," ").concat(22," ").concat(b," ").concat(b),children:(0,g.jsx)(N,{className:y.circle,style:S,ownerState:j,cx:b,cy:b,r:(b-m)/2,fill:"none",strokeWidth:m})})}))}))}}]);
//# sourceMappingURL=2169.68f0bf2b.chunk.js.map