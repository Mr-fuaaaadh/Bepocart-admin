"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[605],{605:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var s=n(2791),a=n(1889),r=n(2903),i=n(9347),o=n(4070),l=n(7621),c=n(697),d=n(890),u=n(4721),m=n(9504),x=n(8550),f=n(4518),p=n(184);const h=()=>{const[e,t]=(0,s.useState)({name:"",file:null}),[n,a]=(0,s.useState)(null),[h,Z]=(0,s.useState)(null),[j,v]=(0,s.useState)("success"),[g,b]=(0,s.useState)(!1),[y,S]=(0,s.useState)({name:""}),w=n=>{const{name:s,value:r,files:i}=n.target;if("file"===s&&i.length>0){const n=i[0];t({...e,[s]:n}),a(URL.createObjectURL(n))}else t({...e,[s]:r})},C=()=>{b(!1)};return(0,p.jsxs)("div",{children:[(0,p.jsx)(i.Z,{open:g,autoHideDuration:6e3,onClose:C,children:(0,p.jsx)(o.Z,{onClose:C,severity:j,sx:{width:"100%"},children:h})}),(0,p.jsxs)(l.Z,{variant:"outlined",sx:{p:0},children:[(0,p.jsx)(c.Z,{sx:{padding:"15px 30px"},display:"flex",alignItems:"center",children:(0,p.jsx)(c.Z,{flexGrow:1,children:(0,p.jsx)(d.Z,{sx:{fontSize:"18px",fontWeight:"500"},children:"Offer Banner Form"})})}),(0,p.jsx)(u.Z,{}),(0,p.jsx)(m.Z,{sx:{padding:"30px"},children:(0,p.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),!(()=>{let t=!0;const n={};return e.name||(n.name="Name is required",t=!1),S(n),t})())return;const s=new FormData;s.append("name",e.name),e.file&&s.append("image",e.file);try{const e=localStorage.getItem("token"),n=await r.Z.post("https://bepocart.in/admin/Bepocart-Offer-Banner/",s,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(e)}});Z("Form submitted successfully!"),v("success"),b(!0),console.log("Success",n.data),t({name:"",file:null}),a(null)}catch(i){Z("Failed to submit the form."),v("error"),b(!0),console.error("Error",i.response?i.response.data:i.message)}},children:[(0,p.jsx)(x.Z,{name:"name",label:"Name",variant:"outlined",fullWidth:!0,sx:{mb:2},value:e.name,onChange:w,error:!!y.name,helperText:y.name}),(0,p.jsx)(x.Z,{name:"file",type:"file",variant:"outlined",fullWidth:!0,sx:{mb:2},onChange:w}),n&&(0,p.jsxs)(c.Z,{sx:{mt:2},children:[(0,p.jsx)(d.Z,{variant:"body2",children:"Image Preview:"}),(0,p.jsx)("img",{src:n,alt:"Preview",style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"4px"}})]}),(0,p.jsx)("div",{children:(0,p.jsx)(f.Z,{type:"submit",color:"primary",variant:"contained",children:"Submit"})})]})})]})]})},Z=()=>(0,p.jsx)(a.ZP,{container:!0,spacing:0,children:(0,p.jsx)(a.ZP,{item:!0,lg:12,md:12,xs:12,children:(0,p.jsx)(h,{})})})},7621:(e,t,n)=>{n.d(t,{Z:()=>Z});var s=n(7462),a=n(3366),r=n(2791),i=n(9278),o=n(4419),l=n(6934),c=n(1020),d=n(5527),u=n(5878),m=n(1217);function x(e){return(0,m.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var f=n(184);const p=["className","raised"],h=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),Z=r.forwardRef((function(e,t){const n=(0,c.i)({props:e,name:"MuiCard"}),{className:r,raised:l=!1}=n,d=(0,a.Z)(n,p),u=(0,s.Z)({},n,{raised:l}),m=(e=>{const{classes:t}=e;return(0,o.Z)({root:["root"]},x,t)})(u);return(0,f.jsx)(h,(0,s.Z)({className:(0,i.Z)(m.root,r),elevation:l?8:void 0,ref:t,ownerState:u},d))}))}}]);
//# sourceMappingURL=605.b3f37140.chunk.js.map