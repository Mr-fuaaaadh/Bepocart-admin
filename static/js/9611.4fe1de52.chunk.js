"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[9611],{9611:(e,r,t)=>{t.r(r),t.d(r,{default:()=>P});var n=t(2791),a=t(1087),s=t(9504),i=t(697),o=t(890),c=t(4518),l=t(2903),d=t(7689),h=t(3239),u=t(9836),x=t(6890),m=t(5855),Z=t(3994),p=t(3382),j=t(5289),g=t(5661),v=t(9157),f=t(7123),y=t(1889),k=t(8550),S=t(7247),C=t(1286),b=t(184);const w=()=>{const[e,r]=(0,n.useState)([]),[t,a]=(0,n.useState)(null),[s,w]=(0,n.useState)(!1),[P,M]=(0,n.useState)(null),[R,D]=(0,n.useState)(!1),[I,N]=(0,n.useState)(""),[z,A]=(0,n.useState)(""),[E,F]=(0,n.useState)(null),[L,U]=(0,n.useState)(null),[B,W]=(0,n.useState)(!0),[T,H]=(0,n.useState)(null),O=(0,d.s0)();(0,n.useEffect)((()=>{V()}),[]);const V=async()=>{W(!0);try{const e=localStorage.getItem("token"),t=await l.Z.get("https://bepocart.in/admin/Bepocart-categories/",{headers:{Authorization:"".concat(e)}});Array.isArray(t.data)?r(t.data):H("Invalid data format")}catch(T){!T.response||401!==T.response.status&&403!==T.response.status?H("Error fetching products"):O("/login")}finally{W(!1)}},q=()=>{a(null),w(!1)},G=()=>{M(null),D(!1),U(null)};return(0,b.jsxs)(b.Fragment,{children:[B?(0,b.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,b.jsx)(h.Z,{})}):T?(0,b.jsx)(o.Z,{variant:"body1",color:"error",children:T}):(0,b.jsxs)(u.Z,{"aria-label":"simple table",sx:{mt:3,whiteSpace:"nowrap"},children:[(0,b.jsx)(x.Z,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(Z.Z,{children:"Id"}),(0,b.jsx)(Z.Z,{children:"Name"}),(0,b.jsx)(Z.Z,{children:"Slug"}),(0,b.jsx)(Z.Z,{children:"Image"}),(0,b.jsx)(Z.Z,{children:"Delete"}),(0,b.jsx)(Z.Z,{children:"Update"})]})}),(0,b.jsx)(p.Z,{children:e.map(((e,r)=>(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(Z.Z,{children:r+1}),(0,b.jsx)(Z.Z,{children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(o.Z,{variant:"h6",children:e.name})})}),(0,b.jsx)(Z.Z,{children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(o.Z,{variant:"h6",children:e.slug})})}),(0,b.jsx)(Z.Z,{children:(0,b.jsx)("img",{src:e.image||"path/to/placeholder/image.jpg",alt:e.name,style:{maxWidth:"50px",maxHeight:"50px"}})}),(0,b.jsx)(Z.Z,{children:(0,b.jsx)(c.Z,{variant:"contained",color:"error",onClick:()=>{return r=e.id,a(r),void w(!0);var r},children:(0,b.jsx)(S.Z,{})})}),(0,b.jsx)(Z.Z,{children:(0,b.jsx)(c.Z,{variant:"contained",onClick:()=>{return r=e.id,t=e.name,n=e.slug,a=e.image,M(r),N(t),A(n),U(a||null),F(null),void D(!0);var r,t,n,a},children:(0,b.jsx)(C.Z,{})})})]},e.id)))})]}),(0,b.jsxs)(j.Z,{open:s,onClose:q,children:[(0,b.jsx)(g.Z,{children:"Confirm Delete"}),(0,b.jsx)(v.Z,{children:(0,b.jsx)(o.Z,{variant:"body1",children:"Are you sure you want to delete this product?"})}),(0,b.jsxs)(f.Z,{children:[(0,b.jsx)(c.Z,{onClick:q,children:"Cancel"}),(0,b.jsx)(c.Z,{onClick:async()=>{try{const n=localStorage.getItem("token");if(!n)return;await l.Z.delete("https://bepocart.in/admin/Bepocart-category-delete/".concat(t,"/"),{headers:{Authorization:"".concat(n)}}),r(e.filter((e=>e.id!==t))),w(!1)}catch(T){console.error("Error deleting product:",T)}},variant:"contained",color:"error",children:"Confirm"})]})]}),(0,b.jsxs)(j.Z,{open:R,onClose:G,children:[(0,b.jsx)(g.Z,{children:"Edit Product"}),(0,b.jsx)(v.Z,{children:(0,b.jsxs)(y.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(y.ZP,{item:!0,xs:12,children:(0,b.jsx)(k.Z,{label:"Product Name",value:I,onChange:e=>N(e.target.value),fullWidth:!0})}),(0,b.jsx)(y.ZP,{item:!0,xs:12,children:(0,b.jsx)(k.Z,{label:"Product Slug",value:z,onChange:e=>A(e.target.value),fullWidth:!0})}),(0,b.jsx)(y.ZP,{item:!0,xs:12,children:(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const r=e.target.files[0];F(r),U(URL.createObjectURL(r))},style:{marginTop:"20px"}})}),L&&(0,b.jsx)(y.ZP,{item:!0,xs:12,children:(0,b.jsx)(i.Z,{sx:{mt:2},children:(0,b.jsx)("img",{src:L,alt:"Preview",style:{maxWidth:"100px",maxHeight:"100px"}})})})]})}),(0,b.jsxs)(f.Z,{children:[(0,b.jsx)(c.Z,{onClick:G,children:"Cancel"}),(0,b.jsx)(c.Z,{onClick:async()=>{try{const t=new FormData;t.append("name",I),t.append("slug",z),E&&t.append("image",E);const n=localStorage.getItem("token");await l.Z.put("https://bepocart.in/admin/Bepocart-category-update/".concat(P,"/"),t,{headers:{Authorization:"".concat(n),"Content-Type":"multipart/form-data"}});const a=e.map((e=>e.id===P?{...e,name:I,slug:z,image:E?URL.createObjectURL(E):e.image}:e));r(a),D(!1)}catch(T){console.error("Error updating product:",T)}},variant:"contained",color:"primary",children:"Save"})]})]})]})},P=()=>(0,b.jsxs)(s.Z,{children:[(0,b.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(o.Z,{variant:"h3",children:"Category Table"}),(0,b.jsx)(c.Z,{component:a.rU,to:"/category-form/",variant:"contained",color:"success",children:"Add Category"})]}),(0,b.jsx)(i.Z,{sx:{overflow:{xs:"auto",sm:"unset"}},children:(0,b.jsx)(w,{})})]})},1286:(e,r,t)=>{var n=t(4836);r.Z=void 0;var a=n(t(5649)),s=t(184),i=(0,a.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=i},9504:(e,r,t)=>{t.d(r,{Z:()=>p});var n=t(7462),a=t(3366),s=t(2791),i=t(9278),o=t(4419),c=t(6934),l=t(1020),d=t(5878),h=t(1217);function u(e){return(0,h.ZP)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var x=t(184);const m=["className","component"],Z=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=s.forwardRef((function(e,r){const t=(0,l.i)({props:e,name:"MuiCardContent"}),{className:s,component:c="div"}=t,d=(0,a.Z)(t,m),h=(0,n.Z)({},t,{component:c}),p=(e=>{const{classes:r}=e;return(0,o.Z)({root:["root"]},u,r)})(h);return(0,x.jsx)(Z,(0,n.Z)({as:c,className:(0,i.Z)(p.root,s),ownerState:h,ref:r},d))}))},3239:(e,r,t)=>{t.d(r,{Z:()=>N});var n=t(168),a=t(3366),s=t(7462),i=t(2791),o=t(9278),c=t(4419),l=t(2554),d=t(4036),h=t(1020),u=t(6934),x=t(5878),m=t(1217);function Z(e){return(0,m.ZP)("MuiCircularProgress",e)}(0,x.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p,j,g,v,f=t(184);const y=["className","color","disableShrink","size","style","thickness","value","variant"];let k,S,C,b;const w=44,P=(0,l.F4)(k||(k=p||(p=(0,n.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),M=(0,l.F4)(S||(S=j||(j=(0,n.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),R=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r["color".concat((0,d.Z)(t.color))]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,s.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.iv)(C||(C=g||(g=(0,n.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),P)})),D=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),I=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r["circle".concat((0,d.Z)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,s.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.iv)(b||(b=v||(v=(0,n.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),M)})),N=i.forwardRef((function(e,r){const t=(0,h.i)({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:l=!1,size:u=40,style:x,thickness:m=3.6,value:p=0,variant:j="indeterminate"}=t,g=(0,a.Z)(t,y),v=(0,s.Z)({},t,{color:i,disableShrink:l,size:u,thickness:m,value:p,variant:j}),k=(e=>{const{classes:r,variant:t,color:n,disableShrink:a}=e,s={root:["root",t,"color".concat((0,d.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(t)),a&&"circleDisableShrink"]};return(0,c.Z)(s,Z,r)})(v),S={},C={},b={};if("determinate"===j){const e=2*Math.PI*((w-m)/2);S.strokeDasharray=e.toFixed(3),b["aria-valuenow"]=Math.round(p),S.strokeDashoffset="".concat(((100-p)/100*e).toFixed(3),"px"),C.transform="rotate(-90deg)"}return(0,f.jsx)(R,(0,s.Z)({className:(0,o.Z)(k.root,n),style:(0,s.Z)({width:u,height:u},C,x),ownerState:v,ref:r,role:"progressbar"},b,g,{children:(0,f.jsx)(D,{className:k.svg,ownerState:v,viewBox:"".concat(22," ").concat(22," ").concat(w," ").concat(w),children:(0,f.jsx)(I,{className:k.circle,style:S,ownerState:v,cx:w,cy:w,r:(w-m)/2,fill:"none",strokeWidth:m})})}))}))}}]);
//# sourceMappingURL=9611.4fe1de52.chunk.js.map