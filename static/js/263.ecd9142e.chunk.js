"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[263],{263:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var n=r(2791),a=r(697),i=r(7621),s=r(9504),c=r(890),l=r(2903),o=r(7689),d=r(1087),x=r(3239),h=r(9836),p=r(6890),j=r(5855),u=r(3994),Z=r(3382),g=r(8316),m=r(4518),v=r(184);const y=()=>{const[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!0),[s,y]=(0,n.useState)(null),f=(0,o.s0)();(0,n.useEffect)((()=>{w()}),[]);const w=async()=>{i(!0),y(null);try{const e=localStorage.getItem("token"),r=await l.Z.get("https://bepocart.in/admin/Bepocart-Product-Review/",{headers:{Authorization:"".concat(e)}});console.log(r.data.data),Array.isArray(r.data.data)?t(r.data.data):(console.error("Invalid data format:",r.data.data),y("Invalid data format received"))}catch(s){console.error("Error fetching products:",s),!s.response||401!==s.response.status&&403!==s.response.status?y("Error fetching banners"):f("/login")}finally{i(!1)}};return(0,v.jsx)(v.Fragment,{children:r?(0,v.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,v.jsx)(x.Z,{})}):s?(0,v.jsx)(c.Z,{variant:"body1",color:"error",children:s}):(0,v.jsxs)(h.Z,{"aria-label":"simple table",sx:{mt:3,whiteSpace:"nowrap"},children:[(0,v.jsx)(p.Z,{children:(0,v.jsxs)(j.Z,{children:[(0,v.jsx)(u.Z,{align:"center",children:"Id"}),(0,v.jsx)(u.Z,{align:"center",children:"NAME"}),(0,v.jsx)(u.Z,{align:"center",children:"IMAGE"}),(0,v.jsx)(u.Z,{align:"center",children:"PRODUCT IMAGE"}),(0,v.jsx)(u.Z,{align:"center",children:"STAR"}),(0,v.jsx)(u.Z,{align:"center",children:"REVIEW"}),(0,v.jsx)(u.Z,{align:"center",children:"STATUS"}),(0,v.jsx)(u.Z,{align:"center",children:"ACTION"})]})}),(0,v.jsx)(Z.Z,{children:e.map((r=>(0,v.jsxs)(j.Z,{children:[(0,v.jsx)(u.Z,{align:"center",children:r.id}),(0,v.jsx)(u.Z,{align:"center",children:(0,v.jsx)(a.Z,{sx:{maxWidth:"150px"},children:(0,v.jsx)(d.rU,{to:"/user-coin-data/".concat(r.id,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,v.jsxs)(c.Z,{variant:"h6",noWrap:!0,children:[r.first_name," ",r.last_name]})})})}),(0,v.jsx)(u.Z,{align:"center",children:(0,v.jsx)(d.rU,{to:"/user-coin-data/".concat(r.user,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,v.jsx)("img",{src:"".concat(r.image),alt:r.user,style:{maxWidth:"70px",maxHeight:"70px"}})})}),(0,v.jsx)(u.Z,{align:"center",children:(0,v.jsx)(d.rU,{to:"/user-coin-data/".concat(r.product,"/"),style:{textDecoration:"none",color:"inherit"},children:(0,v.jsx)("img",{src:"".concat(r.product_image),alt:r.product,style:{maxWidth:"70px",maxHeight:"70px"}})})}),(0,v.jsx)(u.Z,{align:"center",children:(0,v.jsx)(g.Z,{value:r.rating,readOnly:!0})}),(0,v.jsx)(u.Z,{align:"center",children:(0,v.jsx)(a.Z,{sx:{maxWidth:"150px"},children:(0,v.jsx)(c.Z,{variant:"h6",noWrap:!0,children:r.review_text})})}),(0,v.jsx)(u.Z,{align:"center",children:(0,v.jsx)(a.Z,{sx:{maxWidth:"150px"},children:(0,v.jsx)(c.Z,{variant:"h6",noWrap:!0,sx:{color:"Approved"===r.status?"green":"red"},children:r.status})})}),(0,v.jsx)(u.Z,{align:"center",children:"Approved"!==r.status&&(0,v.jsx)(m.Z,{variant:"contained",color:"primary",onClick:()=>(async r=>{try{const n=localStorage.getItem("token");200===(await l.Z.put("https://bepocart.in/admin/Bepocart-approve-review/".concat(r,"/"),null,{headers:{Authorization:"".concat(n)}})).status&&t(e.map((e=>e.id===r?{...e,status:"Approved"}:e)))}catch(s){console.error("Error updating status:",s)}})(r.id),children:"Approve"})})]},r.id)))})]})})},f=()=>(0,v.jsx)(a.Z,{position:"relative",children:(0,v.jsx)(i.Z,{variant:"outlined",children:(0,v.jsxs)(s.Z,{children:[(0,v.jsx)(c.Z,{variant:"h3",children:"Review Table"}),(0,v.jsx)(a.Z,{sx:{overflowX:"auto",overflowY:"auto",whiteSpace:"nowrap",maxWidth:"100%",maxHeight:"800px"},children:(0,v.jsx)(y,{})})]})})})}}]);
//# sourceMappingURL=263.ecd9142e.chunk.js.map